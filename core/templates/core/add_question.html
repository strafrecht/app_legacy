{% load static %}

{% block contents %}


<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Frage hinzufügen</title>
</head>

<body>

  <section id="add-question">
    <form @submit.prevent="createQuestion">
      <h2>neue Frage hinzufügen</h2>
      <div>
        <textarea id="add-title" name="add-title" rows="2" cols="50" v-model="questionInput"
          placeholder="Bitte geben Sie hier Ihre Frage ein">
        </textarea>

      </div>
      <div>
        <textarea id="add-description" name="add-description" rows="4" cols="50" v-model="descriptionInput"
          placeholder="Fragenbeschreibung">
        </textarea>
      </div></br></br>
      <!-- <p>{{ questionInput }}</p> -->
      <!-- <p>{{ descriptionInput }}</p> -->
      <div>
        <button @click="addAnswer">neu Antwort</button>
      </div>
      <div>
        <div>
          <p v-for="(answer, index) in answers">
            <button id="trashcan" @click="deleteAnswer(index)"> &#128465; </button> &ensp;&ensp;
            <textarea name="answer-option" id="answer-option" v-model="answer[index]" :key="index" rows="1"
              cols="50"></textarea> &ensp;&ensp;
            <label class="switch">
              <input type="checkbox" @click="handleCheckboxClick(index)" :value="answer.correctAnswer">
              <span class="slider"></span>
            </label>
          </p>
        </div>
      </div></br></br>
      <div class="category">
        <label class="label">Kategorie wahlen</label>
        <div class="control">
          <select class="select" v-model="selectedCategory">
            <option v-for="category in categories" :key="category.id" :value="category.id">
              <!-- {{ category.name }} -->
            </option>
          </select>
        </div>
      </div></br></br>

      <!-- <div>{{answers}}</div> -->

      <button type="submit" class="button is-link">Speichern</button>
    </form>


  </section>

  <script src="https://unpkg.com/vue@next"></script>
  <!-- <script src="https://unpkg.com/axios/dist/axios.min.js"></script> -->

  <script>
    const app = Vue.createApp({
      data() {
        return {
          questionInput: '',
          descriptionInput: '',
          answerInput: '',
          answers: [],
          categories: [],
          selectedCategory: 0,
        };
      },

      // created() {
      //   // Simple GET request using fetch
      //   fetch("http://127.0.0.1:8000/quiz/questions/" + id + "/")
      //     .then(response => response.json())
      //     .then(data => (this.totalVuePackages = data.total));
      // },

      methods: {
        addAnswer() {
          this.answers.push({ answerText: this.answerInput, correctAnswer: false });
        },
        deleteAnswer(i) {
          this.answers.splice(i, 1);
        },
        handleCheckboxClick(i) {
          this.answers[i].correctAnswer = !this.answers[i].correctAnswer
        },
        print() {
          console.log(this.answers)
        }
      }
    })

    app.mount('#add-question')
  </script>

  <style scoped>
    @import url('https://fonts.googleapis.com/css2?family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100;1,300;1,400;1,500;1,700;1,900&display=swap');

    * {
      box-sizing: border-box;
    }

    html {
      font-family: "Roboto";
    }

    body {
      margin: 0;
    }

    #add-question {
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.26);
      margin: 3rem;
      border-radius: 10px;
      padding: 1rem;
    }

    h2 {
      font-size: 2rem;
      border-bottom: 4px solid #ccc;
      color: rgb(61, 61, 61);
      margin: 0 0 1rem 0;
    }

    ul {
      list-style: none;
      margin: 1rem 0;
      padding: 0;
    }

    li {
      margin: 1rem 0;
      font-size: 1rem;
      background-color: #ccc;
      padding: 0.5rem;
      color: #1f1f1f;
      border-radius: 2px;
    }

    #add-title {
      width: 600px;
      font: inherit;
      border: 1px solid #ccc;
    }

    #add-description,
    #add-answer {
      width: 600px;
      font: inherit;
      border: 1px solid #ccc;
    }

    #answer-option {
      width: 495px;
      font: inherit;
      border: 1px solid #ccc;
    }

    input:focus {
      outline: none;
      border-color: rgb(61, 61, 61);
      background-color: #d7fdeb;
    }

    button {
      font: inherit;
      cursor: pointer;
      border: 1px solid rgb(167, 165, 165);
      background-color: rgb(167, 165, 165);
      color: white;
      padding: 0.05rem 1rem;
      box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.26);
    }

    button:hover,
    button:active {
      background-color: rgb(167, 165, 165);
      border-color: rgb(167, 165, 165);
      box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.26);
    }

    #trashcan {
      font: inherit;
      cursor: pointer;
      border: none;
      background-color: rgb(211, 30, 30);
      padding: 0.1rem 0.2rem;
      color: white;
      box-shadow: 1px 1px 2px rgba(0, 0, 0, 0.26);
      border-radius: 5px;
    }

    #trashcan:hover,
    #trashcan:active {
      background-color: rgb(235, 15, 15);
      border-color: rgb(211, 30, 30);
      box-shadow: 1px 1px 4px rgba(0, 0, 0, 0.26);
    }

    .switch {
      position: relative;
      display: inline-block;
      width: 36px;
      height: 20px;
    }

    .switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .slider {
      position: absolute;
      cursor: pointer;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background-color: rgb(231, 39, 39);
      -webkit-transition: .4s;
      transition: .4s;
    }

    .slider:before {
      position: absolute;
      content: "";
      height: 16px;
      width: 16px;
      left: 2px;
      bottom: 2px;
      background-color: white;
      -webkit-transition: .4s;
      transition: .4s;
    }

    input:checked+.slider {
      background-color: #3ac73e;
    }

    input:focus+.slider {
      box-shadow: 0 0 1px #3ac73e;
    }

    input:checked+.slider:before {
      -webkit-transform: translateX(16px);
      -ms-transform: translateX(16px);
      transform: translateX(16px);
    }

    /* Rounded sliders */
    .slider.round {
      border-radius: 34px;
    }

    .slider.round:before {
      border-radius: 50%;
    }
  </style>
</body>

</html>


{% endblock %}

{% block extra_js %}

{% endblock %}